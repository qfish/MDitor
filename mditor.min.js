var Markdown;Markdown="object"==typeof exports&&"function"==typeof require?exports:{},function(){function a(a){return a}function b(){return!1}function c(){}function d(){}c.prototype={chain:function(b,c){var d=this[b];if(!d)throw new Error("unknown hook "+b);this[b]=d===a?c:function(){var b=Array.prototype.slice.call(arguments,0);return b[0]=d.apply(null,b),c.apply(null,b)}},set:function(a,b){if(!this[a])throw new Error("unknown hook "+a);this[a]=b},addNoop:function(b){this[b]=a},addFalse:function(a){this[a]=b}},Markdown.HookCollection=c,d.prototype={set:function(a,b){this["s_"+a]=b},get:function(a){return this["s_"+a]}},Markdown.Converter=function(){function h(a){return a=a.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,function(a,c,d,f,g,h){return c=c.toLowerCase(),b.set(c,E(d)),g?f:(h&&e.set(c,h.replace(/"/g,"&quot;")),"")})}function i(a){return a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,j),a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,j),a=a.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,j),a=a.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,j),a=a.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,j)}function j(a,b){var c=b;return c=c.replace(/^\n+/,""),c=c.replace(/\n+$/g,""),c="\n\n~K"+(f.push(c)-1)+"K\n\n"}function l(b,c){b=a.preBlockGamut(b,k),b=t(b);var d="<hr />\n";return b=b.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,d),b=b.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,d),b=b.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,d),b=u(b),b=x(b),b=C(b),b=a.postBlockGamut(b,k),b=i(b),b=D(b,c)}function m(b){return b=a.preSpanGamut(b),b=z(b),b=n(b),b=F(b),b=q(b),b=o(b),b=L(b),b=b.replace(/~P/g,"://"),b=E(b),b=B(b),b=b.replace(/  +\n/g," <br>\n"),b=a.postSpanGamut(b)}function n(a){var b=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi;return a=a.replace(b,function(a){var b=a.replace(/(.)<\/?code>(?=.)/g,"$1`");return b=R(b,"!"==a.charAt(1)?"\\`*_/":"\\`*_")})}function o(a){return a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,p),a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,p),a=a.replace(/(\[([^\[\]]+)\])()()()()()/g,p)}function p(a,c,d,f,g,h,i,j){var k,l,m,n,o,p;if(void 0==j&&(j=""),k=c,l=d.replace(/:\/\//g,"~P"),m=f.toLowerCase(),n=g,o=j,""==n)if(""==m&&(m=l.toLowerCase().replace(/ ?\n/g," ")),n="#"+m,void 0!=b.get(m))n=b.get(m),void 0!=e.get(m)&&(o=e.get(m));else{if(!(k.search(/\(\s*\)$/m)>-1))return k;n=""}return n=Q(n),n=R(n,"*_"),p='<a href="'+n+'"',""!=o&&(o=r(o),o=R(o,"*_"),p+=' title="'+o+'"'),p+=">"+l+"</a>"}function q(a){return a=a.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,s),a=a.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,s)}function r(a){return a.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function s(a,c,d,f,g,h,i,j){var p,k=c,l=d,m=f.toLowerCase(),n=g,o=j;if(o||(o=""),""==n){if(""==m&&(m=l.toLowerCase().replace(/ ?\n/g," ")),n="#"+m,void 0==b.get(m))return k;n=b.get(m),void 0!=e.get(m)&&(o=e.get(m))}return l=R(r(l),"*_[]()"),n=R(n,"*_"),p='<img src="'+n+'" alt="'+l+'"',o=r(o),o=R(o,"*_"),p+=' title="'+o+'"',p+=" />"}function t(a){return a=a.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(a,b){return"<h1>"+m(b)+"</h1>\n\n"}),a=a.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(a,b){return"<h2>"+m(b)+"</h2>\n\n"}),a=a.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(a,b,c){var d=b.length;return"<h"+d+">"+m(c)+"</h"+d+">\n\n"})}function u(a,b){a+="~0";var c=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return g?a=a.replace(c,function(a,c,d){var e=c,f=d.search(/[*+-]/g)>-1?"ul":"ol",g=w(e,f,b);return g=g.replace(/\s+$/,""),g="<"+f+">"+g+"</"+f+">\n"}):(c=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,a=a.replace(c,function(a,b,c,d){var e=b,f=c,g=d.search(/[*+-]/g)>-1?"ul":"ol",h=w(f,g);return h=e+"<"+g+">\n"+h+"</"+g+">\n"})),a=a.replace(/~0/,"")}function w(a,b,c){var d,e,f;return g++,a=a.replace(/\n{2,}$/,"\n"),a+="~0",d=v[b],e=new RegExp("(^[ \\t]*)("+d+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+d+")[ \\t]+))","gm"),f=!1,a=a.replace(e,function(a,b,d,e){var g=e,i=/\n\n$/.test(g),j=i||g.search(/\n{2,}/)>-1;return j||f?g=l(N(g),!0):(g=u(N(g),!0),g=g.replace(/\n$/,""),c||(g=m(g))),f=i,"<li>"+g+"</li>\n"}),a=a.replace(/~0/g,""),g--,a}function x(a){return a+="~0",a=a.replace(/(?:\n\n|^\n?)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(a,b,c){var d=b,e=c;return d=A(N(d)),d=O(d),d=d.replace(/^\n+/g,""),d=d.replace(/\n+$/g,""),d="<pre><code>"+d+"\n</code></pre>","\n\n"+d+"\n\n"+e}),a=a.replace(/~0/,"")}function y(a){return a=a.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(f.push(a)-1)+"K\n\n"}function z(a){return a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(a,b,c,d){var f=d;return f=f.replace(/^([ \t]*)/g,""),f=f.replace(/[ \t]*$/g,""),f=A(f),f=f.replace(/:\/\//g,"~P"),b+"<code>"+f+"</code>"})}function A(a){return a=a.replace(/&/g,"&amp;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=R(a,"*_{}[]\\",!1)}function B(a){return a=a.replace(/([\W_]|^)(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\2([\W_]|$)/g,"$1<strong>$3</strong>$4"),a=a.replace(/([\W_]|^)(\*|_)(?=\S)([^\r\*_]*?\S)\2([\W_]|$)/g,"$1<em>$3</em>$4")}function C(a){return a=a.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(a,b){var c=b;return c=c.replace(/^[ \t]*>[ \t]?/gm,"~0"),c=c.replace(/~0/g,""),c=c.replace(/^[ \t]+$/gm,""),c=l(c),c=c.replace(/(^|\n)/g,"$1  "),c=c.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(a,b){var c=b;return c=c.replace(/^  /gm,"~0"),c=c.replace(/~0/g,"")}),y("<blockquote>\n"+c+"\n</blockquote>")})}function D(a,b){var c,d,e,g,h,i,j;for(a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,""),c=a.split(/\n{2,}/g),d=[],e=/~K(\d+)K/,g=c.length,h=0;g>h;h++)i=c[h],e.test(i)?d.push(i):/\S/.test(i)&&(i=m(i),i=i.replace(/^([ \t]*)/g,"<p>"),i+="</p>",d.push(i));if(!b)for(g=d.length,h=0;g>h;h++)for(j=!0;j;)j=!1,d[h]=d[h].replace(/~K(\d+)K/g,function(a,b){return j=!0,f[b]});return d.join("\n\n")}function E(a){return a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),a=a.replace(/<(?![a-z\/?!]|~D)/gi,"&lt;")}function F(a){return a=a.replace(/\\(\\)/g,S),a=a.replace(/\\([`*_{}\[\]()>#+-.!])/g,S)}function K(a,b,c,d){var e,f,g,h,i,j;if(b)return a;if(")"!==d.charAt(d.length-1))return"<"+c+d+">";for(e=d.match(/[()]/g),f=0,g=0;g<e.length;g++)"("===e[g]?0>=f?f=1:f++:f--;return h="",0>f&&(i=new RegExp("\\){1,"+-f+"}$"),d=d.replace(i,function(a){return h=a,""})),h&&(j=d.charAt(d.length-1),J.test(j)||(h=j+h,d=d.substr(0,d.length-1))),"<"+c+d+">"+h}function L(b){b=b.replace(I,K);var c=function(b,c){return'<a href="'+c+'">'+a.plainLinkText(c)+"</a>"};return b=b.replace(/<((https?|ftp):[^'">\s]+)>/gi,c)}function M(a){return a=a.replace(/~E(\d+)E/g,function(a,b){var c=parseInt(b);return String.fromCharCode(c)})}function N(a){return a=a.replace(/^(\t|[ ]{1,4})/gm,"~0"),a=a.replace(/~0/g,"")}function O(a){if(!/\t/.test(a))return a;var d,b=["    ","   ","  "," "],c=0;return a.replace(/[\n\t]/g,function(a,e){return"\n"===a?(c=e+1,a):(d=(e-c)%4,c=e+1,b[d])})}function Q(a){if(!a)return"";var b=a.length;return a.replace(P,function(c,d){return"~D"==c?"%24":":"!=c||d!=b-1&&!/[0-9\/]/.test(a.charAt(d+1))?"%"+c.charCodeAt(0).toString(16):":"})}function R(a,b,c){var e,d="(["+b.replace(/([\[\]\\])/g,"\\$1")+"])";return c&&(d="\\\\"+d),e=new RegExp(d,"g"),a=a.replace(e,S)}function S(a,b){var c=b.charCodeAt(0);return"~E"+c+"E"}var b,e,f,g,k,v,G,H,I,J,P,a=this.hooks=new c;a.addNoop("plainLinkText"),a.addNoop("preConversion"),a.addNoop("postNormalization"),a.addNoop("preBlockGamut"),a.addNoop("postBlockGamut"),a.addNoop("preSpanGamut"),a.addNoop("postSpanGamut"),a.addNoop("postConversion"),this.makeHtml=function(c){if(b)throw new Error("Recursive call to converter.makeHtml");return b=new d,e=new d,f=[],g=0,c=a.preConversion(c),c=c.replace(/~/g,"~T"),c=c.replace(/\$/g,"~D"),c=c.replace(/\r\n/g,"\n"),c=c.replace(/\r/g,"\n"),c="\n\n"+c+"\n\n",c=O(c),c=c.replace(/^[ \t]+$/gm,""),c=a.postNormalization(c),c=i(c),c=h(c),c=l(c),c=M(c),c=c.replace(/~D/g,"$$"),c=c.replace(/~T/g,"~"),c=a.postConversion(c),f=e=b=null,c},k=function(a){return l(a)},v={ol:"\\d+[.]",ul:"[*+-]"},G="[-A-Z0-9+&@#/%?=~_|[\\]()!:,.;]",H="[-A-Z0-9+&@#/%=~_|[\\])]",I=new RegExp('(="|<)?\\b(https?|ftp)(://'+G+"*"+H+")(?=$|\\W)","gi"),J=new RegExp(H,"i"),P=/(?:["'*()[\]:]|~D)/g}}();
!function(){function l(){}function m(a){this.buttonBar=d.getElementById("wmd-button-bar"+a),this.preview=d.getElementById("wmd-preview"+a),this.input=d.getElementById("wmd-input"+a)}function n(b,c){var i,j,k,n,p,q,r,s,d=this,e=[],f=0,g="none",l=function(a,b){g!=a&&(g=a,b||n()),h.isIE&&"moving"==g?k=null:j=setTimeout(m,1)},m=function(a){k=new o(c,a),j=void 0};this.setCommandMode=function(){g="command",n(),j=setTimeout(m,0)},this.canUndo=function(){return f>1},this.canRedo=function(){return e[f+1]?!0:!1},this.undo=function(){d.canUndo()&&(i?(i.restore(),i=null):(e[f]=new o(c),e[--f].restore(),b&&b())),g="none",c.input.focus(),m()},this.redo=function(){d.canRedo()&&(e[++f].restore(),b&&b()),g="none",c.input.focus(),m()},n=function(){var a=k||new o(c);return a?"moving"==g?(i||(i=a),void 0):(i&&(e[f-1].text!=i.text&&(e[f++]=i),i=null),e[f++]=a,e[f+1]=null,b&&b(),void 0):!1},p=function(a){var c,e,b=!1;if((a.ctrlKey||a.metaKey)&&!a.altKey)switch(c=a.charCode||a.keyCode,e=String.fromCharCode(c),e.toLowerCase()){case"y":d.redo(),b=!0;break;case"z":a.shiftKey?d.redo():d.undo(),b=!0}return b?(a.preventDefault&&a.preventDefault(),window.event&&(window.event.returnValue=!1),void 0):void 0},q=function(a){if(!a.ctrlKey&&!a.metaKey){var b=a.keyCode;b>=33&&40>=b||b>=63232&&63235>=b?l("moving"):8==b||46==b||127==b?l("deleting"):13==b?l("newlines"):27==b?l("escape"):(16>b||b>20)&&91!=b&&l("typing")}},r=function(){a.addEvent(c.input,"keypress",function(a){!a.ctrlKey&&!a.metaKey||a.altKey||89!=a.keyCode&&90!=a.keyCode||a.preventDefault()});var b=function(){(h.isIE||k&&k.text!=c.input.value)&&void 0==j&&(g="paste",n(),m())};a.addEvent(c.input,"keydown",p),a.addEvent(c.input,"keydown",q),a.addEvent(c.input,"mousedown",function(){l("moving")}),c.input.onpaste=b,c.input.ondrop=b},s=function(){r(),m(!0),n()},s()}function o(b,c){var e=this,f=b.input;this.init=function(){a.isVisible(f)&&(c||!d.activeElement||d.activeElement===f)&&(this.setInputAreaSelectionStartEnd(),this.scrollTop=f.scrollTop,(!this.text&&f.selectionStart||0===f.selectionStart)&&(this.text=f.value))},this.setInputAreaSelection=function(){if(a.isVisible(f))if(void 0===f.selectionStart||h.isOpera){if(d.selection){if(d.activeElement&&d.activeElement!==f)return;f.focus();var b=f.createTextRange();b.moveStart("character",-f.value.length),b.moveEnd("character",-f.value.length),b.moveEnd("character",e.end),b.moveStart("character",e.start),b.select()}}else f.focus(),f.selectionStart=e.start,f.selectionEnd=e.end,f.scrollTop=e.scrollTop},this.setInputAreaSelectionStartEnd=function(){var c,g,h,i,j,k;if(b.ieCachedRange||!f.selectionStart&&0!==f.selectionStart){if(d.selection){if(e.text=a.fixEolChars(f.value),c=b.ieCachedRange||d.selection.createRange(),g=a.fixEolChars(c.text),h="",i=h+g+h,c.text=i,j=a.fixEolChars(f.value),c.moveStart("character",-i.length),c.text=g,e.start=j.indexOf(h),e.end=j.lastIndexOf(h)-h.length,k=e.text.length-a.fixEolChars(f.value).length){for(c.moveStart("character",-g.length);k--;)g+="\n",e.end+=1;c.text=g}b.ieCachedRange&&(e.scrollTop=b.ieCachedScrollTop),b.ieCachedRange=null,this.setInputAreaSelection()}}else e.start=f.selectionStart,e.end=f.selectionEnd},this.restore=function(){void 0!=e.text&&e.text!=f.value&&(f.value=e.text),this.setInputAreaSelection(),f.scrollTop=e.scrollTop},this.getChunks=function(){var b=new l;return b.before=a.fixEolChars(e.text.substring(0,e.start)),b.startTag="",b.selection=a.fixEolChars(e.text.substring(e.start,e.end)),b.endTag="",b.after=a.fixEolChars(e.text.substring(e.end)),b.scrollTop=e.scrollTop,b},this.setChunks=function(a){a.before=a.before+a.startTag,a.after=a.endTag+a.after,this.start=a.before.length,this.end=a.before.length+a.selection.length,this.text=a.before+a.selection+a.after,this.scrollTop=a.scrollTop},this.init()}function p(c,e,f){var i,j,k,t,u,v,w,x,y,z,l=3e3,m="delayed",n=function(b,c){a.addEvent(b,"input",c),b.onpaste=c,b.ondrop=c,a.addEvent(b,"keypress",c),a.addEvent(b,"keydown",c)},o=function(){var a=0;return window.innerHeight?a=window.pageYOffset:d.documentElement&&d.documentElement.scrollTop?a=d.documentElement.scrollTop:d.body&&(a=d.body.scrollTop),a},p=function(){var a,b,d;e.preview&&(a=e.input.value,a&&a==k||(k=a,b=(new Date).getTime(),a=c.makeHtml(a),d=(new Date).getTime(),j=d-b,y(a)))},q=function(){if(i&&(clearTimeout(i),i=void 0),"manual"!==m){var a=0;"delayed"===m&&(a=j),a>l&&(a=l),i=setTimeout(p,a)}},r=function(a){return a.scrollHeight<=a.clientHeight?1:a.scrollTop/(a.scrollHeight-a.clientHeight)},s=function(){e.preview&&(e.preview.scrollTop=(e.preview.scrollHeight-e.preview.clientHeight)*r(e.preview))};this.refresh=function(a){a?(k="",p()):q()},this.processingTime=function(){return j},t=!0,u=function(a){var b=e.preview,c=b.parentNode,d=b.nextSibling;c.removeChild(b),b.innerHTML=a,d?c.insertBefore(b,d):c.appendChild(b)},v=function(a){e.preview.innerHTML=a},x=function(a){if(w)return w(a);try{v(a),w=v}catch(b){w=u,w(a)}},y=function(a){var d,c=b.getTop(e.input)-o();return e.preview&&(x(a),f()),s(),t?(t=!1,void 0):(d=b.getTop(e.input)-o(),h.isIE?setTimeout(function(){window.scrollBy(0,d-c)},0):window.scrollBy(0,d-c),void 0)},z=function(){n(e.input,q),p(),e.preview&&(e.preview.scrollTop=0)},z()}function q(b,c,e,g,i,j,k){function p(a){var b,d,f,h;if(l.focus(),a.textOp){if(e&&e.setCommandMode(),b=new o(c),!b)return;d=b.getChunks(),f=function(){l.focus(),d&&b.setChunks(d),b.restore(),g.refresh()},h=a.textOp(d,f),h||f()}a.execute&&a.execute(e)}function q(a,b){var e="0px",f="-20px",g="-40px",i=a.getElementsByTagName("span")[0];b?(i.style.backgroundPosition=a.XShift+" "+e,a.onmouseover=function(){i.style.backgroundPosition=this.XShift+" "+g},a.onmouseout=function(){i.style.backgroundPosition=this.XShift+" "+e},h.isIE&&(a.onmousedown=function(){d.activeElement&&d.activeElement!==c.input||(c.ieCachedRange=document.selection.createRange(),c.ieCachedScrollTop=c.input.scrollTop)}),a.isHelp||(a.onclick=function(){return this.onmouseout&&this.onmouseout(),p(this),!1})):(i.style.backgroundPosition=a.XShift+" "+f,a.onmouseover=a.onmouseout=a.onclick=function(){})}function r(a){return"string"==typeof a&&(a=i[a]),function(){a.apply(i,arguments)}}function s(){var i,l,n,o,p,s,a=c.buttonBar,h=document.createElement("ul");h.id="wmd-button-row"+b,h.className="wmd-button-row",h=a.appendChild(h),i=0,l=function(a,c,d,e){var g,f=document.createElement("li");return f.className="wmd-button",f.style.left=i+"px",i+=25,g=document.createElement("span"),f.id=a+b,f.appendChild(g),f.title=c,f.XShift=d,e&&(f.textOp=e),q(f,!0),h.appendChild(f),f},n=function(a){var c=document.createElement("li");c.className="wmd-spacer wmd-spacer"+a,c.id="wmd-spacer"+a+b,h.appendChild(c),i+=25},m.bold=l("wmd-bold-button",k("bold"),"0px",r("doBold")),m.italic=l("wmd-italic-button",k("italic"),"-20px",r("doItalic")),n(1),m.link=l("wmd-link-button",k("link"),"-40px",r(function(a,b){return this.doLinkOrImage(a,b,!1)})),m.quote=l("wmd-quote-button",k("quote"),"-60px",r("doBlockquote")),m.code=l("wmd-code-button",k("code"),"-80px",r("doCode")),m.image=l("wmd-image-button",k("image"),"-100px",r(function(a,b){return this.doLinkOrImage(a,b,!0)})),n(2),m.olist=l("wmd-olist-button",k("olist"),"-120px",r(function(a,b){this.doList(a,b,!0)})),m.ulist=l("wmd-ulist-button",k("ulist"),"-140px",r(function(a,b){this.doList(a,b,!1)})),m.heading=l("wmd-heading-button",k("heading"),"-160px",r("doHeading")),m.hr=l("wmd-hr-button",k("hr"),"-180px",r("doHorizontalRule")),n(3),m.undo=l("wmd-undo-button",k("undo"),"-200px",null),m.undo.execute=function(a){a&&a.undo()},o=/win/.test(f.platform.toLowerCase())?k("redo"):k("redomac"),m.redo=l("wmd-redo-button",o,"-220px",null),m.redo.execute=function(a){a&&a.redo()},j&&(p=document.createElement("li"),s=document.createElement("span"),p.appendChild(s),p.className="wmd-button wmd-help-button",p.id="wmd-help-button"+b,p.XShift="-240px",p.isHelp=!0,p.style.right="0px",p.title=k("help"),p.onclick=j.handler,q(p,!0),h.appendChild(p),m.help=p),t()}function t(){e&&(q(m.undo,e.canUndo()),q(m.redo,e.canRedo()))}var n,l=c.input,m={};s(),n="keydown",h.isOpera&&(n="keypress"),a.addEvent(l,n,function(a){var b,c;if((a.ctrlKey||a.metaKey)&&!a.altKey&&!a.shiftKey){switch(b=a.charCode||a.keyCode,c=String.fromCharCode(b).toLowerCase()){case"b":p(m.bold);break;case"i":p(m.italic);break;case"l":p(m.link);break;case"q":p(m.quote);break;case"k":p(m.code);break;case"g":p(m.image);break;case"o":p(m.olist);break;case"u":p(m.ulist);break;case"h":p(m.heading);break;case"r":p(m.hr);break;case"y":p(m.redo);break;case"z":a.shiftKey?p(m.redo):p(m.undo);break;default:return}a.preventDefault&&a.preventDefault(),window.event&&(window.event.returnValue=!1)}}),a.addEvent(l,"keyup",function(a){var b,c;!a.shiftKey||a.ctrlKey||a.metaKey||(b=a.charCode||a.keyCode,13===b&&(c={},c.textOp=r("doAutoindent"),p(c)))}),h.isIE&&a.addEvent(l,"keydown",function(a){var b=a.keyCode;return 27===b?!1:void 0}),this.setUndoRedoButtonStates=t}function r(a,b){this.hooks=a,this.getString=b}function t(a){return a.replace(/^\s*(.*?)(?:\s+"(.+)")?\s*$/,function(a,b,c){return b=b.replace(/\?.*$/,function(a){return a.replace(/\+/g," ")}),b=decodeURIComponent(b),b=encodeURI(b).replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29"),b=b.replace(/\?.*$/,function(a){return a.replace(/\+/g,"%2b")}),c&&(c=c.trim?c.trim():c.replace(/^\s*/,"").replace(/\s*$/,""),c=c.replace(/"/g,"quot;").replace(/\(/g,"&#40;").replace(/\)/g,"&#41;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),c?b+' "'+c+'"':b})}var s,a={},b={},c={},d=window.document,e=window.RegExp,f=window.navigator,g={lineLength:72},h={isIE:/msie/.test(f.userAgent.toLowerCase()),isIE_5or6:/msie 6/.test(f.userAgent.toLowerCase())||/msie 5/.test(f.userAgent.toLowerCase()),isOpera:/opera/.test(f.userAgent.toLowerCase())},i={bold:"Strong <strong> Ctrl+B",boldexample:"strong text",italic:"Emphasis <em> Ctrl+I",italicexample:"emphasized text",link:"Hyperlink <a> Ctrl+L",linkdescription:"enter link description here",linkdialog:'<p><b>Insert Hyperlink</b></p><p>http://example.com/ "optional title"</p>',quote:"Blockquote <blockquote> Ctrl+Q",quoteexample:"Blockquote",code:"Code Sample <pre><code> Ctrl+K",codeexample:"enter code here",image:"Image <img> Ctrl+G",imagedescription:"enter image description here",imagedialog:"<p><b>Insert Image</b></p><p>http://example.com/images/diagram.jpg \"optional title\"<br><br>Need <a href='http://www.google.com/search?q=free+image+hosting' target='_blank'>free image hosting?</a></p>",olist:"Numbered List <ol> Ctrl+O",ulist:"Bulleted List <ul> Ctrl+U",litem:"List item",heading:"Heading <h1>/<h2> Ctrl+H",headingexample:"Heading",hr:"Horizontal Rule <hr> Ctrl+R",undo:"Undo - Ctrl+Z",redo:"Redo - Ctrl+Y",redomac:"Redo - Ctrl+Shift+Z",help:"Markdown Editing Help"},j="http://",k="http://";Markdown.Editor=function(a,b,c){var e,f,h,g;c=c||{},"function"==typeof c.handler&&(c={helpButton:c}),c.strings=c.strings||{},c.helpButton&&(c.strings.help=c.strings.help||c.helpButton.title),e=function(a){return c.strings[a]||i[a]},b=b||"",f=this.hooks=new Markdown.HookCollection,f.addNoop("onPreviewRefresh"),f.addNoop("postBlockquoteCreation"),f.addFalse("insertImageDialog"),this.getConverter=function(){return a},g=this,this.run=function(){var i,j,k,l,o;h||(h=new m(b),i=new r(f,e),j=new p(a,h,function(){f.onPreviewRefresh()}),/\?noundo/.test(d.location.href)||(k=new n(function(){j.refresh(),l&&l.setUndoRedoButtonStates()},h),this.textOperation=function(a){k.setCommandMode(),a(),g.refreshPreview()}),l=new q(b,h,k,j,i,c.helpButton,e),l.setUndoRedoButtonStates(),o=g.refreshPreview=function(){j.refresh(!0)},o())}},l.prototype.findTags=function(b,c){var e,d=this;b&&(e=a.extendRegExp(b,"","$"),this.before=this.before.replace(e,function(a){return d.startTag=d.startTag+a,""}),e=a.extendRegExp(b,"^",""),this.selection=this.selection.replace(e,function(a){return d.startTag=d.startTag+a,""})),c&&(e=a.extendRegExp(c,"","$"),this.selection=this.selection.replace(e,function(a){return d.endTag=a+d.endTag,""}),e=a.extendRegExp(c,"^",""),this.after=this.after.replace(e,function(a){return d.endTag=a+d.endTag,""}))},l.prototype.trimWhitespace=function(a){var b,c,d=this;a?b=c="":(b=function(a){return d.before+=a,""},c=function(a){return d.after=a+d.after,""}),this.selection=this.selection.replace(/^(\s*)/,b).replace(/(\s*)$/,c)},l.prototype.skipLines=function(a,b,c){var d,f;if(void 0===a&&(a=1),void 0===b&&(b=1),a++,b++,navigator.userAgent.match(/Chrome/)&&"X".match(/()./),this.selection=this.selection.replace(/(^\n*)/,""),this.startTag=this.startTag+e.$1,this.selection=this.selection.replace(/(\n*$)/,""),this.endTag=this.endTag+e.$1,this.startTag=this.startTag.replace(/(^\n*)/,""),this.before=this.before+e.$1,this.endTag=this.endTag.replace(/(\n*$)/,""),this.after=this.after+e.$1,this.before){for(d=f="";a--;)d+="\\n?",f+="\n";c&&(d="\\n*"),this.before=this.before.replace(new e(d+"$",""),f)}if(this.after){for(d=f="";b--;)d+="\\n?",f+="\n";c&&(d="\\n*"),this.after=this.after.replace(new e(d,""),f)}},a.isVisible=function(a){return window.getComputedStyle?"none"!==window.getComputedStyle(a,null).getPropertyValue("display"):a.currentStyle?"none"!==a.currentStyle.display:void 0},a.addEvent=function(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c,!1)},a.removeEvent=function(a,b,c){a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener(b,c,!1)},a.fixEolChars=function(a){return a=a.replace(/\r\n/g,"\n"),a=a.replace(/\r/g,"\n")},a.extendRegExp=function(a,b,c){var d,f;return(null===b||void 0===b)&&(b=""),(null===c||void 0===c)&&(c=""),d=a.toString(),d=d.replace(/\/([gim]*)$/,function(a,b){return f=b,""}),d=d.replace(/(^\/|\/$)/g,""),d=b+d+c,new e(d,f)},b.getTop=function(a,b){var c=a.offsetTop;if(!b)for(;a=a.offsetParent;)c+=a.offsetTop;return c},b.getHeight=function(a){return a.offsetHeight||a.scrollHeight},b.getWidth=function(a){return a.offsetWidth||a.scrollWidth},b.getPageSize=function(){var a,b,c,e,f,g;return self.innerHeight&&self.scrollMaxY?(a=d.body.scrollWidth,b=self.innerHeight+self.scrollMaxY):d.body.scrollHeight>d.body.offsetHeight?(a=d.body.scrollWidth,b=d.body.scrollHeight):(a=d.body.offsetWidth,b=d.body.offsetHeight),self.innerHeight?(c=self.innerWidth,e=self.innerHeight):d.documentElement&&d.documentElement.clientHeight?(c=d.documentElement.clientWidth,e=d.documentElement.clientHeight):d.body&&(c=d.body.clientWidth,e=d.body.clientHeight),f=Math.max(a,c),g=Math.max(b,e),[f,g,c,e]},c.createBackground=function(){var e,a=d.createElement("div"),c=a.style;return a.className="wmd-prompt-background",c.position="absolute",c.top="0",c.zIndex="1000",h.isIE?c.filter="alpha(opacity=50)":c.opacity="0.5",e=b.getPageSize(),c.height=e[1]+"px",h.isIE?(c.left=d.documentElement.scrollLeft,c.width=d.documentElement.clientWidth):(c.left="0",c.width="100%"),d.body.appendChild(a),a},c.prompt=function(c,e,f){var g,i,j,k,l;void 0===e&&(e=""),j=function(a){var b=a.charCode||a.keyCode;27===b&&k(!0)},k=function(b){a.removeEvent(d.body,"keydown",j);var c=i.value;return b?c=null:(c=c.replace(/^http:\/\/(https?|ftp):\/\//,"$1://"),/^(?:https?|ftp):\/\//.test(c)||(c="http://"+c)),g.parentNode.removeChild(g),f(c),!1},l=function(){var f,l,m,n,o;g=d.createElement("div"),g.className="wmd-prompt-dialog",g.style.padding="10px;",g.style.position="fixed",g.style.width="400px",g.style.zIndex="1001",f=d.createElement("div"),f.innerHTML=c,f.style.padding="5px",g.appendChild(f),l=d.createElement("form"),m=l.style,l.onsubmit=function(){return k(!1)},m.padding="0",m.margin="0",m.cssFloat="left",m.width="100%",m.textAlign="center",m.position="relative",g.appendChild(l),i=d.createElement("input"),i.type="text",i.value=e,m=i.style,m.display="block",m.width="80%",m.marginLeft=m.marginRight="auto",l.appendChild(i),n=d.createElement("input"),n.type="button",n.onclick=function(){return k(!1)},n.value="OK",m=n.style,m.margin="10px",m.display="inline",m.width="7em",o=d.createElement("input"),o.type="button",o.onclick=function(){return k(!0)},o.value="Cancel",m=o.style,m.margin="10px",m.display="inline",m.width="7em",l.appendChild(n),l.appendChild(o),a.addEvent(d.body,"keydown",j),g.style.top="50%",g.style.left="50%",g.style.display="block",h.isIE_5or6&&(g.style.position="absolute",g.style.top=d.documentElement.scrollTop+200+"px",g.style.left="50%"),d.body.appendChild(g),g.style.marginTop=-(b.getHeight(g)/2)+"px",g.style.marginLeft=-(b.getWidth(g)/2)+"px"},setTimeout(function(){var a,b;l(),a=e.length,void 0!==i.selectionStart?(i.selectionStart=0,i.selectionEnd=a):i.createTextRange&&(b=i.createTextRange(),b.collapse(!1),b.moveStart("character",-a),b.moveEnd("character",a),b.select()),i.focus()},0)},s=r.prototype,s.prefixes="(?:\\s{4,}|\\s*>|\\s*-\\s+|\\s*\\d+\\.|=|\\+|-|_|\\*|#|\\s*\\[[^\n]]+\\]:)",s.unwrap=function(a){var b=new e("([^\\n])\\n(?!(\\n|"+this.prefixes+"))","g");a.selection=a.selection.replace(b,"$1 $2")},s.wrap=function(a,b){this.unwrap(a);var c=new e("(.{1,"+b+"})( +|$\\n?)","gm"),d=this;a.selection=a.selection.replace(c,function(a,b){return new e("^"+d.prefixes,"").test(a)?a:b+"\n"}),a.selection=a.selection.replace(/\s+$/,"")},s.doBold=function(a,b){return this.doBorI(a,b,2,this.getString("boldexample"))},s.doItalic=function(a,b){return this.doBorI(a,b,1,this.getString("italicexample"))},s.doBorI=function(a,b,c,d){var f,g,h,i,j;a.trimWhitespace(),a.selection=a.selection.replace(/\n{2,}/g,"\n"),f=/(\**$)/.exec(a.before)[0],g=/(^\**)/.exec(a.after)[0],h=Math.min(f.length,g.length),h>=c&&(2!=h||1!=c)?(a.before=a.before.replace(e("[*]{"+c+"}$",""),""),a.after=a.after.replace(e("^[*]{"+c+"}",""),"")):!a.selection&&g?(a.after=a.after.replace(/^([*_]*)/,""),a.before=a.before.replace(/(\s?)$/,""),i=e.$1,a.before=a.before+g+i):(a.selection||g||(a.selection=d),j=1>=c?"*":"**",a.before=a.before+j,a.after=j+a.after)},s.stripLinkDefs=function(a,b){return a=a.replace(/^[ ]{0,3}\[(\d+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|$)/gm,function(a,c,d,e,f){return b[c]=a.replace(/\s*$/,""),e?(b[c]=a.replace(/["(](.+?)[")]$/,""),e+f):""})},s.addLinkDef=function(a,b){var e,f,g,h,i,c=0,d={};return a.before=this.stripLinkDefs(a.before,d),a.selection=this.stripLinkDefs(a.selection,d),a.after=this.stripLinkDefs(a.after,d),e="",f=/(\[)((?:\[[^\]]*\]|[^\[\]])*)(\][ ]?(?:\n[ ]*)?\[)(\d+)(\])/g,g=function(a){c++,a=a.replace(/^[ ]{0,3}\[(\d+)\]:/,"  ["+c+"]:"),e+="\n"+a},h=function(a,b,e,i,j,k){return e=e.replace(f,h),d[j]?(g(d[j]),b+e+i+c+k):a},a.before=a.before.replace(f,h),b?g(b):a.selection=a.selection.replace(f,h),i=c,a.after=a.after.replace(f,h),a.after&&(a.after=a.after.replace(/\n*$/,"")),a.after||(a.selection=a.selection.replace(/\n*$/,"")),a.after+="\n\n"+e,i},s.doLinkOrImage=function(a,b,d){var e,f,g;return a.trimWhitespace(),a.findTags(/\s*!?\[/,/\][ ]?(?:\n[ ]*)?(\[.*?\])?/),a.endTag.length>1&&a.startTag.length>0?(a.startTag=a.startTag.replace(/!?\[/,""),a.endTag="",this.addLinkDef(a,null),void 0):(a.selection=a.startTag+a.selection+a.endTag,a.startTag=a.endTag="",/\n\n/.test(a.selection)?(this.addLinkDef(a,null),void 0):(f=this,g=function(c){var g,h;e.parentNode.removeChild(e),null!==c&&(a.selection=(" "+a.selection).replace(/([^\\](?:\\\\)*)(?=[[\]])/g,"$1\\").substr(1),g=" [999]: "+t(c),h=f.addLinkDef(a,g),a.startTag=d?"![":"[",a.endTag="]["+h+"]",a.selection||(a.selection=d?f.getString("imagedescription"):f.getString("linkdescription"))),b()},e=c.createBackground(),d?this.hooks.insertImageDialog(g)||c.prompt(this.getString("imagedialog"),j,g):c.prompt(this.getString("linkdialog"),k,g),!0))},s.doAutoindent=function(a){var c=this,d=!1;a.before=a.before.replace(/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]*\n$/,"\n\n"),a.before=a.before.replace(/(\n|^)[ ]{0,3}>[ \t]*\n$/,"\n\n"),a.before=a.before.replace(/(\n|^)[ \t]+\n$/,"\n\n"),a.selection||/^[ \t]*(?:\n|$)/.test(a.after)||(a.after=a.after.replace(/^[^\n]*/,function(b){return a.selection=b,""}),d=!0),/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]+.*\n$/.test(a.before)&&c.doList&&c.doList(a),/(\n|^)[ ]{0,3}>[ \t]+.*\n$/.test(a.before)&&c.doBlockquote&&c.doBlockquote(a),/(\n|^)(\t|[ ]{4,}).*\n$/.test(a.before)&&c.doCode&&c.doCode(a),d&&(a.after=a.selection+a.after,a.selection="")},s.doBlockquote=function(a){var e,c,d,f,h,i,j,k;if(a.selection=a.selection.replace(/^(\n*)([^\r]+?)(\n*)$/,function(b,c,d,e){return a.before+=c,a.after=e+a.after,d}),a.before=a.before.replace(/(>[ \t]*)$/,function(b,c){return a.selection=c+a.selection,""}),a.selection=a.selection.replace(/^(\s|>)+$/,""),a.selection=a.selection||this.getString("quoteexample"),c="",d="",a.before){for(f=a.before.replace(/\n$/,"").split("\n"),h=!1,i=0;i<f.length;i++)j=!1,e=f[i],h=h&&e.length>0,/^>/.test(e)?(j=!0,!h&&e.length>1&&(h=!0)):j=/^[ \t]*$/.test(e)?!0:h,j?c+=e+"\n":(d+=c+e,c="\n");/(^|\n)>/.test(c)||(d+=c,c="")}a.startTag=c,a.before=d,a.after&&(a.after=a.after.replace(/^\n?/,"\n")),a.after=a.after.replace(/^(((\n|^)(\n[ \t]*)*>(.+\n)*.*)+(\n[ \t]*)*)/,function(b){return a.endTag=b,""}),k=function(b){var c=b?"> ":"";a.startTag&&(a.startTag=a.startTag.replace(/\n((>|\s)*)\n$/,function(a,b){return"\n"+b.replace(/^[ ]{0,3}>?[ \t]*$/gm,c)+"\n"})),a.endTag&&(a.endTag=a.endTag.replace(/^\n((>|\s)*)\n/,function(a,b){return"\n"+b.replace(/^[ ]{0,3}>?[ \t]*$/gm,c)+"\n"}))},/^(?![ ]{0,3}>)/m.test(a.selection)?(this.wrap(a,g.lineLength-2),a.selection=a.selection.replace(/^/gm,"> "),k(!0),a.skipLines()):(a.selection=a.selection.replace(/^[ ]{0,3}> ?/gm,""),this.unwrap(a),k(!1),!/^(\n|^)[ ]{0,3}>/.test(a.selection)&&a.startTag&&(a.startTag=a.startTag.replace(/\n{0,2}$/,"\n\n")),!/(\n|^)[ ]{0,3}>.*$/.test(a.selection)&&a.endTag&&(a.endTag=a.endTag.replace(/^\n{0,2}/,"\n\n"))),a.selection=this.hooks.postBlockquoteCreation(a.selection),/\n/.test(a.selection)||(a.selection=a.selection.replace(/^(> *)/,function(b,c){return a.startTag+=c,""}))},s.doCode=function(a){var e,f,c=/\S[ ]*$/.test(a.before),d=/^[ ]*\S/.test(a.after);!d&&!c||/\n/.test(a.selection)?(a.before=a.before.replace(/[ ]{4}$/,function(b){return a.selection=b+a.selection,""}),e=1,f=1,/(\n|^)(\t|[ ]{4,}).*\n$/.test(a.before)&&(e=0),/^\n(\t|[ ]{4,})/.test(a.after)&&(f=0),a.skipLines(e,f),a.selection?/^[ ]{0,3}\S/m.test(a.selection)?/\n/.test(a.selection)?a.selection=a.selection.replace(/^/gm,"    "):a.before+="    ":a.selection=a.selection.replace(/^(?:[ ]{4}|[ ]{0,3}\t)/gm,""):(a.startTag="    ",a.selection=this.getString("codeexample"))):(a.trimWhitespace(),a.findTags(/`/,/`/),a.startTag||a.endTag?a.endTag&&!a.startTag?(a.before+=a.endTag,a.endTag=""):a.startTag=a.endTag="":(a.startTag=a.endTag="`",a.selection||(a.selection=this.getString("codeexample"))))},s.doList=function(a,b,c){var l,m,n,o,p,d=/(\n|^)(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*$/,f=/^\n*(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*/,h="-",i=1,j=function(){var a;return c?(a=" "+i+". ",i++):a=" "+h+" ",a},k=function(a){return void 0===c&&(c=/^\s*\d/.test(a)),a=a.replace(/^[ ]{0,3}([*+-]|\d+[.])\s/gm,function(){return j()})};a.findTags(/(\n|^)*[ ]{0,3}([*+-]|\d+[.])\s+/,null),!a.before||/\n$/.test(a.before)||/^\n/.test(a.startTag)||(a.before+=a.startTag,a.startTag=""),a.startTag&&(l=/\d+[.]/.test(a.startTag),a.startTag="",a.selection=a.selection.replace(/\n[ ]{4}/g,"\n"),this.unwrap(a),a.skipLines(),l&&(a.after=a.after.replace(f,k)),c==l)||(m=1,a.before=a.before.replace(d,function(a){return/^\s*([*+-])/.test(a)&&(h=e.$1),m=/[^\n]\n\n[^\n]/.test(a)?1:0,k(a)}),a.selection||(a.selection=this.getString("litem")),n=j(),o=1,a.after=a.after.replace(f,function(a){return o=/[^\n]\n\n[^\n]/.test(a)?1:0,k(a)}),a.trimWhitespace(!0),a.skipLines(m,o,!0),a.startTag=n,p=n.replace(/./g," "),this.wrap(a,g.lineLength-p.length),a.selection=a.selection.replace(/\n/g,"\n"+p))},s.doHeading=function(a){var c,d,f,h;if(a.selection=a.selection.replace(/\s+/g," "),a.selection=a.selection.replace(/(^\s+|\s+$)/g,""),!a.selection)return a.startTag="## ",a.selection=this.getString("headingexample"),a.endTag=" ##",void 0;if(c=0,a.findTags(/#+[ ]*/,/[ ]*#+/),/#+/.test(a.startTag)&&(c=e.lastMatch.length),a.startTag=a.endTag="",a.findTags(null,/\s?(-+|=+)/),/=+/.test(a.endTag)&&(c=1),/-+/.test(a.endTag)&&(c=2),a.startTag=a.endTag="",a.skipLines(1,1),d=0==c?2:c-1,d>0)for(f=d>=2?"-":"=",h=a.selection.length,h>g.lineLength&&(h=g.lineLength),a.endTag="\n";h--;)a.endTag+=f},s.doHorizontalRule=function(a){a.startTag="----------\n",a.selection="",a.skipLines(2,1,!0)}}();
!function(){function c(a){return a.replace(/<[^>]*>?/gi,g)}function g(a){return a.match(d)||a.match(e)||a.match(f)?a:""}function h(a){var b,c,d,e,f,g,h,i,j,k,l,m;if(""==a)return"";if(b=/<\/?\w+[^>]*(\s|$|>)/g,c=a.toLowerCase().match(b),d=(c||[]).length,0==d)return a;for(g="<p><img><br><li><hr>",i=[],j=[],k=!1,l=0;d>l;l++)if(e=c[l].replace(/<\/?(\w+).*/,"$1"),!(i[l]||g.search("<"+e+">")>-1)){if(f=c[l],h=-1,!/^<\//.test(f))for(m=l+1;d>m;m++)if(!i[m]&&c[m]=="</"+e+">"){h=m;break}-1==h?k=j[l]=!0:i[h]=!0}return k?(l=0,a=a.replace(b,function(a){var b=j[l]?"":a;return l++,b})):a}var a,b,d,e,f;"object"==typeof exports&&"function"==typeof require?(a=exports,b=require("./Markdown.Converter").Converter):(a=window.Markdown,b=a.Converter),a.getSanitizingConverter=function(){var a=new b;return a.hooks.chain("postConversion",c),a.hooks.chain("postConversion",h),a},d=/^(<\/?(b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|i|kbd|li|ol|p|pre|s|sup|sub|strong|strike|ul)>|<(br|hr)\s?\/?>)$/i,e=/^(<a\shref="((https?|ftp):\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\stitle="[^"<>]+")?\s?>|<\/a>)$/i,f=/^(<img\ssrc="(https?:\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\swidth="\d{1,3}")?(\sheight="\d{1,3}")?(\salt="[^"<>]*")?(\stitle="[^"<>]*")?\s?\/?>)$/i}();
!function(){function b(a){return a.replace(/^\s+|\s+$/g,"")}function c(a){return a.replace(/\s+$/g,"")}function d(a){return a.replace(new RegExp("^(\\t|[ ]{1,4})","gm"),"")}function e(a,b){return-1!=a.indexOf(b)}function f(a,b){return a.replace(/<[^>]*>?/gi,function(a){return a.match(b)?a:""})}function g(a,b){var d,e,f,c={};for(d=0;d<a.length;d++)c[a[d]]=a[d];for(d=0;d<b.length;d++)c[b[d]]=b[d];e=[];for(f in c)c.hasOwnProperty(f)&&e.push(c[f]);return e}function h(a){return""!=a.charAt(0)&&(a=""+a),""!=a.charAt(a.length-1)&&(a+=""),a}function i(a){return""==a.charAt(0)&&(a=a.substr(1)),""==a.charAt(a.length-1)&&(a=a.substr(0,a.length-1)),a}function j(b,c){return f(k(b,c),a)}function k(a,b){var c=b.blockGamutHookCallback(a);return c=m(c),c=c.replace(/~D/g,"$$").replace(/~T/g,"~"),c=b.previousPostConversion(c)}function l(a){return a.replace(/\\\|/g,"&#124;").replace(/\\:/g,"&#58;")}function m(a){return a=a.replace(/~E(\d+)E/g,function(a,b){var c=parseInt(b);return String.fromCharCode(c)})}function n(a){return a.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}var a=new RegExp(["^(<\\/?(a|abbr|acronym|applet|area|b|basefont|","bdo|big|button|cite|code|del|dfn|em|figcaption|","font|i|iframe|img|input|ins|kbd|label|map|","mark|meter|object|param|progress|q|ruby|rp|rt|s|","samp|script|select|small|span|strike|strong|","sub|sup|textarea|time|tt|u|var|wbr)[^>]*>|","<(br)\\s?\\/?>)$"].join(""),"i");Array.indexOf||(Array.prototype.indexOf=function(a){for(var b=0;b<this.length;b++)if(this[b]==a)return b;return-1}),Markdown.Extra=function(){this.converter=null,this.hashBlocks=[],this.footnotes={},this.usedFootnotes=[],this.attributeBlocks=!1,this.googleCodePrettify=!1,this.highlightJs=!1,this.tableClass="",this.tabWidth=4},Markdown.Extra.init=function(a,b){var c=new Markdown.Extra,d=[],f=[],g=["unHashExtraBlocks"];return b=b||{},b.extensions=b.extensions||["all"],e(b.extensions,"all")&&(b.extensions=["tables","fenced_code_gfm","def_list","attr_list","footnotes"]),e(b.extensions,"attr_list")&&(d.push("hashFcbAttributeBlocks"),f.push("hashHeaderAttributeBlocks"),g.push("applyAttributeBlocks"),c.attributeBlocks=!0),e(b.extensions,"tables")&&f.push("tables"),e(b.extensions,"fenced_code_gfm")&&d.push("fencedCodeBlocks"),e(b.extensions,"def_list")&&f.push("definitionLists"),e(b.extensions,"footnotes")&&(d.push("stripFootnoteDefinitions"),f.push("doFootnotes"),g.push("printFootnotes")),a.hooks.chain("postNormalization",function(a){return c.doTransform(d,a)+"\n"}),a.hooks.chain("preBlockGamut",function(a,b){return c.blockGamutHookCallback=b,a=l(a),c.doTransform(f,a)+"\n"}),c.previousPostConversion=a.hooks.postConversion,a.hooks.chain("postConversion",function(a){return a=c.doTransform(g,a),c.hashBlocks=[],c.footnotes={},c.usedFootnotes=[],a}),"highlighter"in b&&(c.googleCodePrettify="prettify"===b.highlighter,c.highlightJs="highlight"===b.highlighter),"table_class"in b&&(c.tableClass=b.table_class),c.converter=a,c},Markdown.Extra.prototype.doTransform=function(a,b){for(var c=0;c<a.length;c++)b=this[a[c]](b);return b},Markdown.Extra.prototype.hashExtraBlock=function(a){return"\n<p>~X"+(this.hashBlocks.push(a)-1)+"X</p>\n"},Markdown.Extra.prototype.hashExtraInline=function(a){return"~X"+(this.hashBlocks.push(a)-1)+"X"},Markdown.Extra.prototype.unHashExtraBlocks=function(a){function c(){var d=!1;a=a.replace(/(?:<p>)?~X(\d+)X(?:<\/p>)?/g,function(a,c){d=!0;var e=parseInt(c,10);return b.hashBlocks[e]}),d===!0&&c()}var b=this;return c(),a},Markdown.Extra.prototype.hashHeaderAttributeBlocks=function(a){function f(a,b,c){return"<p>~XX"+(e.hashBlocks.push(c)-1)+"XX</p>\n"+b+"\n"}var b="\\{\\s*[.|#][^}]+\\}",c=new RegExp("^(#{1,6}.*#{0,6})\\s+("+b+")[ \\t]*(\\n|0x03)","gm"),d=new RegExp("^(.*)\\s+("+b+")[ \\t]*\\n"+"(?=[\\-|=]+\\s*(\\n|0x03))","gm"),e=this;return a=a.replace(c,f),a=a.replace(d,f)},Markdown.Extra.prototype.hashFcbAttributeBlocks=function(a){function e(a,b,c){return"<p>~XX"+(d.hashBlocks.push(c)-1)+"XX</p>\n"+b+"\n"}var b="\\{\\s*[.|#][^}]+\\}",c=new RegExp("^(```[^{\\n]*)\\s+("+b+")[ \\t]*\\n"+"(?=([\\s\\S]*?)\\n```\\s*(\\n|0x03))","gm"),d=this;return a.replace(c,e)},Markdown.Extra.prototype.applyAttributeBlocks=function(a){var b=this,c=new RegExp('<p>~XX(\\d+)XX</p>[\\s]*(?:<(h[1-6]|pre)(?: +class="(\\S+)")?(>[\\s\\S]*?</\\2>))',"gm");return a=a.replace(c,function(a,c,d,e,f){var h,i,j,k,l,m,n;if(!d)return"";for(h=parseInt(c,10),i=b.hashBlocks[h],j=i.match(/#[^\s{}]+/g)||[],k=j[0]?' id="'+j[0].substr(1,j[0].length-1)+'"':"",l=i.match(/\.[^\s{}]+/g)||[],m=0;m<l.length;m++)l[m]=l[m].substr(1,l[m].length-1);return n="",e&&(l=g(l,[e])),l.length>0&&(n=' class="'+l.join(" ")+'"'),"<"+d+k+n+f})},Markdown.Extra.prototype.tables=function(a){function f(a,d,e,f){var i,k,l,m,n,o,p,q,r,s,t,u;for(d=d.replace(/^ *[|]/m,""),e=e.replace(/^ *[|]/m,""),f=f.replace(/^ *[|]/gm,""),d=d.replace(/[|] *$/m,""),e=e.replace(/[|] *$/m,""),f=f.replace(/[|] *$/gm,""),alignspecs=e.split(/ *[|] */),align=[],i=0;i<alignspecs.length;i++)k=alignspecs[i],align[i]=k.match(/^ *-+: *$/m)?' style="text-align:right;"':k.match(/^ *:-+: *$/m)?' style="text-align:center;"':k.match(/^ *:-+ *$/m)?' style="text-align:left;"':"";for(l=d.split(/ *[|] */),m=l.length,n=c.tableClass?' class="'+c.tableClass+'"':"",o=["<table",n,">\n","<thead>\n","<tr>\n"].join(""),i=0;m>i;i++)p=j(b(l[i]),c),o+=["  <th",align[i],">",p,"</th>\n"].join("");for(o+="</tr>\n</thead>\n",q=f.split("\n"),i=0;i<q.length;i++)if(!q[i].match(/^\s*$/)){for(r=q[i].split(/ *[|] */),s=m-r.length,t=0;s>t;t++)r.push("");for(o+="<tr>\n",t=0;m>t;t++)u=j(b(r[t]),c),o+=["  <td",align[t],">",u,"</td>\n"].join("");o+="</tr>\n"}return o+="</table>\n",c.hashExtraBlock(o)}var c=this,d=new RegExp(["^","[ ]{0,3}","[|]","(.+)\\n","[ ]{0,3}","[|]([ ]*[-:]+[-| :]*)\\n","(","(?:[ ]*[|].*\\n?)*",")","(?:\\n|$)"].join(""),"gm"),e=new RegExp(["^","[ ]{0,3}","(\\S.*[|].*)\\n","[ ]{0,3}","([-:]+[ ]*[|][-| :]*)\\n","(","(?:.*[|].*\\n?)*",")","(?:\\n|$)"].join(""),"gm");return a=a.replace(d,f),a=a.replace(e,f)},Markdown.Extra.prototype.stripFootnoteDefinitions=function(a){var b=this;return a=a.replace(/\n[ ]{0,3}\[\^(.+?)\]\:[ \t]*\n?([\s\S]*?)\n{1,2}((?=\n[ ]{0,3}\S)|$)/g,function(a,c,d){return c=n(c),d+="\n",d=d.replace(/^[ ]{0,3}/g,""),b.footnotes[c]=d,"\n"})},Markdown.Extra.prototype.doFootnotes=function(a){var c,b=this;return b.isConvertingFootnote===!0?a:(c=0,a=a.replace(/\[\^(.+?)\]/g,function(a,d){var g,e=n(d),f=b.footnotes[e];return void 0===f?"":(c++,b.usedFootnotes.push(e),g='<a href="#fn:'+e+'" id="fnref:'+e+'" title="See footnote" class="footnote">'+c+"</a>",b.hashExtraInline(g))}))},Markdown.Extra.prototype.printFootnotes=function(a){var c,d,e,f,b=this;if(0===b.usedFootnotes.length)return a;for(a+='\n\n<div class="footnotes">\n<hr>\n<ol>\n\n',c=0;c<b.usedFootnotes.length;c++)d=b.usedFootnotes[c],e=b.footnotes[d],b.isConvertingFootnote=!0,f=j(e,b),delete b.isConvertingFootnote,a+='<li id="fn:'+d+'">'+f+' <a href="#fnref:'+d+'" title="Return to article" class="reversefootnote">&#8617;</a></li>\n\n';return a+="</ol>\n</div>"},Markdown.Extra.prototype.fencedCodeBlocks=function(a){function b(a){return a=a.replace(/&/g,"&amp;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=a.replace(/~D/g,"$$"),a=a.replace(/~T/g,"~")}var c=this;return a=a.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(a,d,e){var j,f=d,g=e,h=c.googleCodePrettify?' class="prettyprint"':"",i="";return f&&(i=c.googleCodePrettify||c.highlightJs?' class="language-'+f+'"':' class="'+f+'"'),j=["<pre",h,"><code",i,">",b(g),"</code></pre>"].join(""),c.hashExtraBlock(j)})},Markdown.Extra.prototype.definitionLists=function(a){var c=new RegExp(["(\\x02\\n?|\\n\\n)","(?:","(","(","[ ]{0,3}","((?:[ \\t]*\\S.*\\n)+)","\\n?","[ ]{0,3}:[ ]+",")","([\\s\\S]+?)","(","(?=\\0x03)","|","(?=","\\n{2,}","(?=\\S)","(?!","[ ]{0,3}","(?:\\S.*\\n)+?","\\n?","[ ]{0,3}:[ ]+",")","(?!","[ ]{0,3}:[ ]+",")",")",")",")",")"].join(""),"gm"),d=this;return a=h(a),a=a.replace(c,function(a,c,e){var f=b(d.processDefListItems(e));return f="<dl>\n"+f+"\n</dl>",c+d.hashExtraBlock(f)+"\n\n"}),i(a)},Markdown.Extra.prototype.processDefListItems=function(a){var e=this,f=new RegExp(["(\\x02\\n?|\\n\\n+)","(","[ ]{0,3}","(?![:][ ]|[ ])","(?:\\S.*\\n)+?",")","(?=\\n?[ ]{0,3}:[ ])"].join(""),"gm"),g=new RegExp(["\\n(\\n+)?","(","[ ]{0,3}","[:][ ]+",")","([\\s\\S]+?)","(?=\\n*","(?:","\\n[ ]{0,3}[:][ ]|","<dt>|\\x03",")",")"].join(""),"gm");return a=h(a),a=a.replace(/\n{2,}(?=\\x03)/,"\n"),a=a.replace(f,function(a,c,d){var h,i,f=b(d).split("\n"),g="";for(h=0;h<f.length;h++)i=f[h],i=j(b(i),e),g+="\n<dt>"+i+"</dt>";return g+"\n"}),a=a.replace(g,function(a,b,f,g){return b||g.match(/\n{2,}/)?(g=Array(f.length+1).join(" ")+g,g=d(g)+"\n\n",g="\n"+k(g,e)+"\n"):(g=c(g),g=j(d(g),e)),"\n<dd>"+g+"</dd>\n"}),i(a)}}();
var MDitor,postfixCounter=0;MDitor="object"==typeof exports&&"function"==typeof require?exports:{},function(){MDitor=function(a,b){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,c=this;this.html="",this.source="",b=b||{},b.name=b.name||"",b.width=b.width||550,b.height=b.height||300,b.postfix=b.postfix||"-mditor-"+postfixCounter++,b.helpString=b.helpString||null,b.useCustomStyle=b.useCustomStyle||!1,i=function(a){return a+b.postfix},h=document.querySelector(a),g=document.createElement("div"),h.style.display="none",g.classList.add("MDitor"),g.id=i("MDitor"),g.innerHTML='<div id="'+i("wmd-button-bar")+'" class="wmd-button-bar"></div><div id="'+i("wmd-editor-wrapper")+'" class="wmd-editor-wrapper"><textarea class="wmd-input" name="'+b.name+'" id="'+i("wmd-input")+'"></textarea><div id="'+i("wmd-preview")+'" class="wmd-preview"></div></div>',0==b.useCustomStyle&&(d=document.createElement("style"),d.innerText=i("#MDitor")+"{width:"+b.width+"px;min-width:"+b.width+"px;}"+i("#wmd-button-bar")+"{width:100%;padding: 0px;margin: 0px;}"+i("#wmd-editor-wrapper")+"{position:relative;width:100%;height:"+b.height+"px}"+i("#wmd-input")+"{position:absolute;top:0;left:0;height:100%;width:"+(b.width-20)+"px;border:1px solid DarkGray;padding: 10px;font-size:14px;line-height:1.6;border-radius:10px;}"+i("#wmd-preview")+"{position:absolute;display:none;width: "+(b.width-20)+"px;height: 100%;overflow: scroll;border:1px solid DarkGray;border-radius:10px;padding: 10px;}"+i("#wmd-button-row")+'{position:relative;margin:5px 0;padding:5px 0 0 0;height:25px}.wmd-spacer {width:1px;height:20px;margin-left:14px;position:absolute;background-color:Silver;display:inline-block;list-style:none}.wmd-button {width:20px;height:20px;padding-left:2px;padding-right:3px;position:absolute;display:inline-block;list-style:none;cursor:pointer}.wmd-button>span {background-image:url(mditor.png);background-repeat:no-repeat;background-position:0 0;width:20px;height:20px;display:inline-block}.wmd-spacer1 {left:50px}.wmd-spacer2 {left:175px}.wmd-spacer3 {left:300px}.wmd-mode-button {width:136px;height:30px;position:absolute;display:inline-block;list-style:none;right:0;top:0px}.wmd-prompt-background {background-color:Black}.wmd-prompt-dialog {border:1px solid #999;background-color:#f5f5f5;border-radius: 10px;}.wmd-prompt-dialog p{margin:0;}.wmd-prompt-dialog>div {border-radius:10px;font-size:14px;font-family:arial, helvetica, sans-serif}.wmd-prompt-dialog>form>input[type="text"] {border:1px solid #999;color:black}.wmd-prompt-dialog>form>input[type="button"] {border:1px solid #888;font-family:trebuchet MS, helvetica, sans-serif;font-size:14px;font-weight:bold}',h.parentNode.insertBefore(d,h)),h.parentNode.insertBefore(g,h),this.converter=f=new Markdown.Converter,Markdown.Extra.init(f),this.editor=e=new Markdown.Editor(f,b.postfix),e.run(),j=document.createElement("li"),j.id=i("wmd-mode-button"),j.classList.add("wmd-mode-button"),j.style.right="0px",j.style.position="absolute",j.innerHTML='<div id="'+i("edit-mode")+'" class="btn-group"><a class="btn active" id="'+i("code-mode")+'" class="selected">Code</a><a class="btn" href="#" id="'+i("preview-mode")+'">Preview</a></div>',k=document.querySelector(i("#wmd-button-row")),k.appendChild(j),l=document.querySelector(i("#wmd-input")),m=document.querySelector(i("#wmd-preview")),e.hooks.chain("onPreviewRefresh",function(){c.html=m.innerHTML,c.source=l.value,h.value=c.html,c.onTextChanged&&c.onTextChanged()}),n=document.querySelector(i("#code-mode")),o=document.querySelector(i("#preview-mode")),p=!0,q=function(){p||(p=!0,l.style.display="block",m.style.display="none",n.classList.add("active"),o.classList.remove("active"),c.onCodeMode&&c.onCodeMode(l,m))},r=function(){p&&(p=!1,l.style.display="none",m.style.display="block",n.classList.remove("active"),o.classList.add("active"),c.onPreviewMode&&c.onPreviewMode(l,m))},n.onclick=q,o.onclick=r}}();